function animateSequence(e,i){if(slides=$("img",e).length,1==i)var t=0,a=setInterval((function(){1==e.is(":hover")?t<slides-1&&($("img.active",e).removeClass("active").next().addClass("active"),t++):clearInterval(a)}),20);else t=slides,a=setInterval((function(){t>1?($("img.active",e).removeClass("active").prev().addClass("active"),t--):($(e).removeClass("animating--rev"),$("img:first-child",e).addClass("active"),clearInterval(a))}),20)}function animateSequenceMobile(e,i){if(slides=$("img",e).length,1==i)var t=0,a=setInterval((function(){t<slides-2?($("img.active",e).removeClass("active").next().addClass("active"),t++):($("img:not(.spacer)",e).last().addClass("active"),clearInterval(a))}),20);else t=slides,a=setInterval((function(){t>1?($("img.active",e).removeClass("active").prev().addClass("active"),t--):($(e).removeClass("animating--rev"),$("img:first-child",e).addClass("active"),clearInterval(a))}),20)}function createCookie(e,i,t){if(t){var a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3);var n="; expires="+a.toGMTString()}else n="";document.cookie=e+"="+i+n+"; path=/"}function readCookie(e){for(var i=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var n=t[a];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(i))return n.substring(i.length,n.length)}return null}$(".seq img:first-child").addClass("active"),$(document).on({mouseenter:function(){$(this).removeClass("animating--rev"),$(this).addClass("animating--fwd"),animateSequence($(this),!0)},mouseleave:function(){$(this).removeClass("animating--fwd"),$(this).addClass("animating--rev"),animateSequence($(this),!1)}},".seq"),$(".language-select").on("click","button",(function(){var e=$(this).data("lang");$(".project-text--info").hide(),$(".project-text--info.lang--"+e).show(),$(".conf").hide(),$(".conf.lang--"+e).show()})),$("select#filter").change((function(){filter=$(this).val(),url=window.location.href,url.indexOf("filter:")>-1?(url=url.substr(0,url.lastIndexOf("filter:")),url=url+"filter:"+filter):url=url+"filter:"+filter,window.location=url})),url=window.location.href,url.indexOf("filter:")>-1&&(url=url.substr(url.indexOf("filter:")+7),""==url&&$(".filterBar").hide(),$("select#filter").val(url));var visited=readCookie("visited");visited||"true"==visited?($(".cookies").hide(),$("body").removeClass("cookieNotification")):$("body").addClass("cookieNotification"),$(".cookies a").click((function(e){e.preventDefault(),createCookie("visited","true",30),$(".cookies").hide(),$("body").removeClass("cookieNotification")}));var video=document.getElementById("video");function animateFwd(e){animateSequenceMobile($(e),!0),$(e).addClass("animating")}function animateBkd(e){animateSequenceMobile($(e),!1),$(e).removeClass("animating")}if($(video).length&&video.addEventListener("click",(function(){$("img.playBtn").hide()}),!1),gsap.registerPlugin(ScrollTrigger),$(window).width()<600){gsap.utils.toArray(".grid-item").forEach((e=>{gsap.to(e,{x:0,scrollTrigger:{trigger:e,scrub:!0,start:"bottom 98%",onEnter:()=>animateFwd(e),onLeaveBack:()=>animateBkd(e)}})}))}$(".home-grid").infiniteScroll({path:".pagination .next",append:".grid-item",history:!1,hideNav:".pagination"}),$(".home-grid").on("append.infiniteScroll",(function(e,i,t,a,n){if($(".seq img:first-child").addClass("active"),$(window).width()<600){gsap.utils.toArray(".grid-item");a.forEach((e=>{gsap.to(e,{x:0,scrollTrigger:{trigger:e,scrub:!0,start:"bottom 98%",onEnter:()=>animateFwd(e),onLeaveBack:()=>animateBkd(e)}})})),ScrollTrigger.refresh()}})),$(document).on("mousemove",(function(e){$(".skip").css({left:e.pageX,top:e.pageY})}));var yetVisited=sessionStorage.video;const isMobile=window.matchMedia("(max-width: 599px)").matches;console.log(isMobile),yetVisited||isMobile?$("#page").animate({opacity:1},500):($(".introVideo").show(),sessionStorage.video="yes"),$(".introVideo").click((function(){$(this).fadeOut(),$("#page").animate({opacity:1},500)})),document.querySelector("#introVideo video").addEventListener("ended",(function(){$(".introVideo").fadeOut(),$("#page").animate({opacity:1},500)})),$("a").each((function(){this.host!==window.location.host&&$(this).attr("target","_blank")}));